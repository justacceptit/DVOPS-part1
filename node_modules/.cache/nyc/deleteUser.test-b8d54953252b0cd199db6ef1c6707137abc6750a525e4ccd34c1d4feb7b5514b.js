function cov_1rqe9b2qdi(){var path="C:\\Users\\user\\OneDrive - Temasek Polytechnic\\Desktop\\devops\\DVOPS-part1\\tests\\deleteUser.test.js";var hash="ea3f3c5d55b9f19f5d173bfbba7330ffe18fcdd9";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\user\\OneDrive - Temasek Polytechnic\\Desktop\\devops\\DVOPS-part1\\tests\\deleteUser.test.js",statementMap:{"0":{start:{line:1,column:11},end:{line:1,column:33}},"1":{start:{line:2,column:32},end:{line:2,column:60}},"2":{start:{line:3,column:15},end:{line:3,column:32}},"3":{start:{line:4,column:13},end:{line:4,column:28}},"4":{start:{line:5,column:15},end:{line:5,column:26}},"5":{start:{line:7,column:0},end:{line:146,column:3}},"6":{start:{line:9,column:28},end:{line:9,column:51}},"7":{start:{line:11,column:2},end:{line:15,column:5}},"8":{start:{line:13,column:22},end:{line:13,column:67}},"9":{start:{line:14,column:4},end:{line:14,column:61}},"10":{start:{line:17,column:2},end:{line:23,column:5}},"11":{start:{line:19,column:26},end:{line:19,column:70}},"12":{start:{line:20,column:4},end:{line:20,column:66}},"13":{start:{line:22,column:4},end:{line:22,column:39}},"14":{start:{line:27,column:2},end:{line:51,column:5}},"15":{start:{line:28,column:23},end:{line:28,column:28}},"16":{start:{line:31,column:16},end:{line:33,column:5}},"17":{start:{line:34,column:16},end:{line:42,column:5}},"18":{start:{line:36,column:8},end:{line:36,column:31}},"19":{start:{line:37,column:8},end:{line:37,column:20}},"20":{start:{line:40,column:8},end:{line:40,column:33}},"21":{start:{line:45,column:4},end:{line:45,column:31}},"22":{start:{line:49,column:4},end:{line:49,column:41}},"23":{start:{line:50,column:4},end:{line:50,column:76}},"24":{start:{line:53,column:2},end:{line:77,column:5}},"25":{start:{line:54,column:30},end:{line:54,column:36}},"26":{start:{line:57,column:16},end:{line:59,column:5}},"27":{start:{line:60,column:16},end:{line:68,column:5}},"28":{start:{line:62,column:8},end:{line:62,column:31}},"29":{start:{line:63,column:8},end:{line:63,column:20}},"30":{start:{line:66,column:8},end:{line:66,column:33}},"31":{start:{line:71,column:4},end:{line:71,column:31}},"32":{start:{line:74,column:4},end:{line:74,column:32}},"33":{start:{line:76,column:4},end:{line:76,column:56}},"34":{start:{line:79,column:2},end:{line:111,column:5}},"35":{start:{line:80,column:30},end:{line:80,column:43}},"36":{start:{line:83,column:32},end:{line:83,column:66}},"37":{start:{line:86,column:16},end:{line:88,column:5}},"38":{start:{line:89,column:16},end:{line:97,column:5}},"39":{start:{line:91,column:8},end:{line:91,column:31}},"40":{start:{line:92,column:8},end:{line:92,column:20}},"41":{start:{line:95,column:8},end:{line:95,column:33}},"42":{start:{line:100,column:4},end:{line:100,column:31}},"43":{start:{line:103,column:4},end:{line:103,column:41}},"44":{start:{line:105,column:4},end:{line:105,column:65}},"45":{start:{line:107,column:31},end:{line:107,column:65}},"46":{start:{line:110,column:4},end:{line:110,column:66}},"47":{start:{line:116,column:2},end:{line:140,column:5}},"48":{start:{line:117,column:23},end:{line:117,column:28}},"49":{start:{line:120,column:16},end:{line:122,column:5}},"50":{start:{line:123,column:16},end:{line:131,column:5}},"51":{start:{line:125,column:8},end:{line:125,column:31}},"52":{start:{line:126,column:8},end:{line:126,column:20}},"53":{start:{line:129,column:8},end:{line:129,column:33}},"54":{start:{line:134,column:4},end:{line:134,column:31}},"55":{start:{line:138,column:4},end:{line:138,column:41}},"56":{start:{line:139,column:4},end:{line:139,column:91}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:7,column:41},end:{line:7,column:42}},loc:{start:{line:7,column:53},end:{line:146,column:1}},line:7},"1":{name:"(anonymous_1)",decl:{start:{line:11,column:9},end:{line:11,column:10}},loc:{start:{line:11,column:27},end:{line:15,column:3}},line:11},"2":{name:"(anonymous_2)",decl:{start:{line:17,column:8},end:{line:17,column:9}},loc:{start:{line:17,column:26},end:{line:23,column:3}},line:17},"3":{name:"(anonymous_3)",decl:{start:{line:27,column:42},end:{line:27,column:43}},loc:{start:{line:27,column:60},end:{line:51,column:3}},line:27},"4":{name:"(anonymous_4)",decl:{start:{line:35,column:14},end:{line:35,column:15}},loc:{start:{line:35,column:30},end:{line:38,column:7}},line:35},"5":{name:"(anonymous_5)",decl:{start:{line:39,column:12},end:{line:39,column:13}},loc:{start:{line:39,column:28},end:{line:41,column:7}},line:39},"6":{name:"(anonymous_6)",decl:{start:{line:53,column:69},end:{line:53,column:70}},loc:{start:{line:53,column:87},end:{line:77,column:3}},line:53},"7":{name:"(anonymous_7)",decl:{start:{line:61,column:14},end:{line:61,column:15}},loc:{start:{line:61,column:30},end:{line:64,column:7}},line:61},"8":{name:"(anonymous_8)",decl:{start:{line:65,column:12},end:{line:65,column:13}},loc:{start:{line:65,column:28},end:{line:67,column:7}},line:65},"9":{name:"(anonymous_9)",decl:{start:{line:79,column:79},end:{line:79,column:80}},loc:{start:{line:79,column:97},end:{line:111,column:3}},line:79},"10":{name:"(anonymous_10)",decl:{start:{line:90,column:14},end:{line:90,column:15}},loc:{start:{line:90,column:30},end:{line:93,column:7}},line:90},"11":{name:"(anonymous_11)",decl:{start:{line:94,column:12},end:{line:94,column:13}},loc:{start:{line:94,column:28},end:{line:96,column:7}},line:94},"12":{name:"(anonymous_12)",decl:{start:{line:116,column:102},end:{line:116,column:103}},loc:{start:{line:116,column:120},end:{line:140,column:3}},line:116},"13":{name:"(anonymous_13)",decl:{start:{line:124,column:14},end:{line:124,column:15}},loc:{start:{line:124,column:30},end:{line:127,column:7}},line:124},"14":{name:"(anonymous_14)",decl:{start:{line:128,column:12},end:{line:128,column:13}},loc:{start:{line:128,column:28},end:{line:130,column:7}},line:128}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ea3f3c5d55b9f19f5d173bfbba7330ffe18fcdd9"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1rqe9b2qdi=function(){return actualCoverage;};}return actualCoverage;}cov_1rqe9b2qdi();const fs=(cov_1rqe9b2qdi().s[0]++,require('fs').promises);const{deleteUser,readJSON}=(cov_1rqe9b2qdi().s[1]++,require('../utils/UserUtil'));// Adjust the path as needed
const assert=(cov_1rqe9b2qdi().s[2]++,require('assert'));const chai=(cov_1rqe9b2qdi().s[3]++,require('chai'));const expect=(cov_1rqe9b2qdi().s[4]++,chai.expect);cov_1rqe9b2qdi().s[5]++;describe('Testing Delete User function',function(){cov_1rqe9b2qdi().f[0]++;// Create a temporary copy of the users.json file for testing
const testUsersFilePath=(cov_1rqe9b2qdi().s[6]++,'utils/test-users.json');cov_1rqe9b2qdi().s[7]++;before(async function(){cov_1rqe9b2qdi().f[1]++;// Copy the contents of users.json to test-users.json for testing
const usersData=(cov_1rqe9b2qdi().s[8]++,await fs.readFile('utils/users.json','utf8'));cov_1rqe9b2qdi().s[9]++;await fs.writeFile(testUsersFilePath,usersData,'utf8');});cov_1rqe9b2qdi().s[10]++;after(async function(){cov_1rqe9b2qdi().f[2]++;// Clean up: restore the original users.json file
const testUsersData=(cov_1rqe9b2qdi().s[11]++,await fs.readFile(testUsersFilePath,'utf8'));cov_1rqe9b2qdi().s[12]++;await fs.writeFile('utils/users.json',testUsersData,'utf8');// Delete the temporary test-users.json file
cov_1rqe9b2qdi().s[13]++;await fs.unlink(testUsersFilePath);});cov_1rqe9b2qdi().s[14]++;it('should successfully delete a user',async function(){cov_1rqe9b2qdi().f[3]++;const testUserId=(cov_1rqe9b2qdi().s[15]++,'303');// Replace with an actual user ID for your test
// Mock the request and response objects
const req=(cov_1rqe9b2qdi().s[16]++,{params:{id:testUserId}});const res=(cov_1rqe9b2qdi().s[17]++,{status:function(code){cov_1rqe9b2qdi().f[4]++;cov_1rqe9b2qdi().s[18]++;this.statusCode=code;cov_1rqe9b2qdi().s[19]++;return this;},json:function(data){cov_1rqe9b2qdi().f[5]++;cov_1rqe9b2qdi().s[20]++;this.responseData=data;}});// Call the deleteUser function
cov_1rqe9b2qdi().s[21]++;await deleteUser(req,res);// Check the response status code
cov_1rqe9b2qdi().s[22]++;expect(res.statusCode).to.equal(201);cov_1rqe9b2qdi().s[23]++;expect(res.responseData.message).to.equal('User deleted successfully!');});cov_1rqe9b2qdi().s[24]++;it('should handle deletion of a non-existent user without errors',async function(){cov_1rqe9b2qdi().f[6]++;const nonExistentUserId=(cov_1rqe9b2qdi().s[25]++,'1111');// Replace with a non-existent user ID for your test
// Mock the request and response objects
const req=(cov_1rqe9b2qdi().s[26]++,{params:{id:nonExistentUserId}});const res=(cov_1rqe9b2qdi().s[27]++,{status:function(code){cov_1rqe9b2qdi().f[7]++;cov_1rqe9b2qdi().s[28]++;this.statusCode=code;cov_1rqe9b2qdi().s[29]++;return this;},json:function(data){cov_1rqe9b2qdi().f[8]++;cov_1rqe9b2qdi().s[30]++;this.responseData=data;}});// Call the deleteUser function
cov_1rqe9b2qdi().s[31]++;await deleteUser(req,res);// Check the response status code
cov_1rqe9b2qdi().s[32]++;expect(res.statusCode,404);// Check the response message
cov_1rqe9b2qdi().s[33]++;expect(res.responseData.message,'User not found!');});cov_1rqe9b2qdi().s[34]++;it('should handle deletion of a non-existent user and leave JSON unchanged',async function(){cov_1rqe9b2qdi().f[9]++;const nonExistentUserId=(cov_1rqe9b2qdi().s[35]++,'nonexistent');// Replace with a non-existent user ID for your test
// Read the content of users.json before the deletion
const usersBeforeDeletion=(cov_1rqe9b2qdi().s[36]++,await readJSON('utils/users.json'));// Mock the request and response objects
const req=(cov_1rqe9b2qdi().s[37]++,{params:{id:nonExistentUserId}});const res=(cov_1rqe9b2qdi().s[38]++,{status:function(code){cov_1rqe9b2qdi().f[10]++;cov_1rqe9b2qdi().s[39]++;this.statusCode=code;cov_1rqe9b2qdi().s[40]++;return this;},json:function(data){cov_1rqe9b2qdi().f[11]++;cov_1rqe9b2qdi().s[41]++;this.responseData=data;}});// Call the deleteUser function
cov_1rqe9b2qdi().s[42]++;await deleteUser(req,res);// Check the response status code
cov_1rqe9b2qdi().s[43]++;expect(res.statusCode).to.equal(404);// Check the response message
cov_1rqe9b2qdi().s[44]++;expect(res.responseData.message).to.equal('User not found!');const usersAfterDeletion=(cov_1rqe9b2qdi().s[45]++,await readJSON('utils/users.json'));// Compare the contents before and after deletion
cov_1rqe9b2qdi().s[46]++;expect(usersAfterDeletion).to.deep.equal(usersBeforeDeletion);});cov_1rqe9b2qdi().s[47]++;it('should deny the user of deleting a user if the user being deleted is the only user at level 2',async function(){cov_1rqe9b2qdi().f[12]++;const testUserId=(cov_1rqe9b2qdi().s[48]++,'316');// Replace with an actual user ID for your test
// Mock the request and response objects
const req=(cov_1rqe9b2qdi().s[49]++,{params:{id:testUserId}});const res=(cov_1rqe9b2qdi().s[50]++,{status:function(code){cov_1rqe9b2qdi().f[13]++;cov_1rqe9b2qdi().s[51]++;this.statusCode=code;cov_1rqe9b2qdi().s[52]++;return this;},json:function(data){cov_1rqe9b2qdi().f[14]++;cov_1rqe9b2qdi().s[53]++;this.responseData=data;}});// Call the deleteUser function
cov_1rqe9b2qdi().s[54]++;await deleteUser(req,res);// Check the response status code
cov_1rqe9b2qdi().s[55]++;expect(res.statusCode).to.equal(400);cov_1rqe9b2qdi().s[56]++;expect(res.responseData.message).to.equal('Cannot delete the last user with level 2!');});});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMXJxZTliMnFkaSIsImFjdHVhbENvdmVyYWdlIiwiZnMiLCJzIiwicmVxdWlyZSIsInByb21pc2VzIiwiZGVsZXRlVXNlciIsInJlYWRKU09OIiwiYXNzZXJ0IiwiY2hhaSIsImV4cGVjdCIsImRlc2NyaWJlIiwiZiIsInRlc3RVc2Vyc0ZpbGVQYXRoIiwiYmVmb3JlIiwidXNlcnNEYXRhIiwicmVhZEZpbGUiLCJ3cml0ZUZpbGUiLCJhZnRlciIsInRlc3RVc2Vyc0RhdGEiLCJ1bmxpbmsiLCJpdCIsInRlc3RVc2VySWQiLCJyZXEiLCJwYXJhbXMiLCJpZCIsInJlcyIsInN0YXR1cyIsImNvZGUiLCJzdGF0dXNDb2RlIiwianNvbiIsImRhdGEiLCJyZXNwb25zZURhdGEiLCJ0byIsImVxdWFsIiwibWVzc2FnZSIsIm5vbkV4aXN0ZW50VXNlcklkIiwidXNlcnNCZWZvcmVEZWxldGlvbiIsInVzZXJzQWZ0ZXJEZWxldGlvbiIsImRlZXAiXSwic291cmNlcyI6WyJkZWxldGVVc2VyLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZnMgPSByZXF1aXJlKCdmcycpLnByb21pc2VzO1xyXG5jb25zdCB7IGRlbGV0ZVVzZXIscmVhZEpTT04gfSA9IHJlcXVpcmUoJy4uL3V0aWxzL1VzZXJVdGlsJyk7IC8vIEFkanVzdCB0aGUgcGF0aCBhcyBuZWVkZWRcclxuY29uc3QgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0Jyk7XHJcbmNvbnN0IGNoYWkgPSByZXF1aXJlKCdjaGFpJyk7XHJcbmNvbnN0IGV4cGVjdCA9IGNoYWkuZXhwZWN0O1xyXG5cclxuZGVzY3JpYmUoJ1Rlc3RpbmcgRGVsZXRlIFVzZXIgZnVuY3Rpb24nLCBmdW5jdGlvbiAoKSB7XHJcbiAgLy8gQ3JlYXRlIGEgdGVtcG9yYXJ5IGNvcHkgb2YgdGhlIHVzZXJzLmpzb24gZmlsZSBmb3IgdGVzdGluZ1xyXG4gIGNvbnN0IHRlc3RVc2Vyc0ZpbGVQYXRoID0gJ3V0aWxzL3Rlc3QtdXNlcnMuanNvbic7XHJcblxyXG4gIGJlZm9yZShhc3luYyBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyBDb3B5IHRoZSBjb250ZW50cyBvZiB1c2Vycy5qc29uIHRvIHRlc3QtdXNlcnMuanNvbiBmb3IgdGVzdGluZ1xyXG4gICAgY29uc3QgdXNlcnNEYXRhID0gYXdhaXQgZnMucmVhZEZpbGUoJ3V0aWxzL3VzZXJzLmpzb24nLCAndXRmOCcpO1xyXG4gICAgYXdhaXQgZnMud3JpdGVGaWxlKHRlc3RVc2Vyc0ZpbGVQYXRoLCB1c2Vyc0RhdGEsICd1dGY4Jyk7XHJcbiAgfSk7XHJcblxyXG4gIGFmdGVyKGFzeW5jIGZ1bmN0aW9uICgpIHtcclxuICAgIC8vIENsZWFuIHVwOiByZXN0b3JlIHRoZSBvcmlnaW5hbCB1c2Vycy5qc29uIGZpbGVcclxuICAgIGNvbnN0IHRlc3RVc2Vyc0RhdGEgPSBhd2FpdCBmcy5yZWFkRmlsZSh0ZXN0VXNlcnNGaWxlUGF0aCwgJ3V0ZjgnKTtcclxuICAgIGF3YWl0IGZzLndyaXRlRmlsZSgndXRpbHMvdXNlcnMuanNvbicsIHRlc3RVc2Vyc0RhdGEsICd1dGY4Jyk7XHJcbiAgICAvLyBEZWxldGUgdGhlIHRlbXBvcmFyeSB0ZXN0LXVzZXJzLmpzb24gZmlsZVxyXG4gICAgYXdhaXQgZnMudW5saW5rKHRlc3RVc2Vyc0ZpbGVQYXRoKTtcclxuICB9KTtcclxuXHJcbiAgXHJcblxyXG4gIGl0KCdzaG91bGQgc3VjY2Vzc2Z1bGx5IGRlbGV0ZSBhIHVzZXInLCBhc3luYyBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zdCB0ZXN0VXNlcklkID0gJzMwMyc7IC8vIFJlcGxhY2Ugd2l0aCBhbiBhY3R1YWwgdXNlciBJRCBmb3IgeW91ciB0ZXN0XHJcblxyXG4gICAgLy8gTW9jayB0aGUgcmVxdWVzdCBhbmQgcmVzcG9uc2Ugb2JqZWN0c1xyXG4gICAgY29uc3QgcmVxID0ge1xyXG4gICAgICBwYXJhbXM6IHsgaWQ6IHRlc3RVc2VySWQgfSxcclxuICAgIH07XHJcbiAgICBjb25zdCByZXMgPSB7XHJcbiAgICAgIHN0YXR1czogZnVuY3Rpb24gKGNvZGUpIHtcclxuICAgICAgICB0aGlzLnN0YXR1c0NvZGUgPSBjb2RlO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICB9LFxyXG4gICAgICBqc29uOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIHRoaXMucmVzcG9uc2VEYXRhID0gZGF0YTtcclxuICAgICAgfSxcclxuICAgIH07XHJcblxyXG4gICAgLy8gQ2FsbCB0aGUgZGVsZXRlVXNlciBmdW5jdGlvblxyXG4gICAgYXdhaXQgZGVsZXRlVXNlcihyZXEsIHJlcyk7XHJcblxyXG5cclxuICAgIC8vIENoZWNrIHRoZSByZXNwb25zZSBzdGF0dXMgY29kZVxyXG4gICAgZXhwZWN0KHJlcy5zdGF0dXNDb2RlKS50by5lcXVhbCgyMDEpO1xyXG4gICAgZXhwZWN0KHJlcy5yZXNwb25zZURhdGEubWVzc2FnZSkudG8uZXF1YWwoJ1VzZXIgZGVsZXRlZCBzdWNjZXNzZnVsbHkhJyk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgaGFuZGxlIGRlbGV0aW9uIG9mIGEgbm9uLWV4aXN0ZW50IHVzZXIgd2l0aG91dCBlcnJvcnMnLCBhc3luYyBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zdCBub25FeGlzdGVudFVzZXJJZCA9ICcxMTExJzsgLy8gUmVwbGFjZSB3aXRoIGEgbm9uLWV4aXN0ZW50IHVzZXIgSUQgZm9yIHlvdXIgdGVzdFxyXG5cclxuICAgIC8vIE1vY2sgdGhlIHJlcXVlc3QgYW5kIHJlc3BvbnNlIG9iamVjdHNcclxuICAgIGNvbnN0IHJlcSA9IHtcclxuICAgICAgcGFyYW1zOiB7IGlkOiBub25FeGlzdGVudFVzZXJJZCB9LFxyXG4gICAgfTtcclxuICAgIGNvbnN0IHJlcyA9IHtcclxuICAgICAgc3RhdHVzOiBmdW5jdGlvbiAoY29kZSkge1xyXG4gICAgICAgIHRoaXMuc3RhdHVzQ29kZSA9IGNvZGU7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgIH0sXHJcbiAgICAgIGpzb246IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5yZXNwb25zZURhdGEgPSBkYXRhO1xyXG4gICAgICB9LFxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBDYWxsIHRoZSBkZWxldGVVc2VyIGZ1bmN0aW9uXHJcbiAgICBhd2FpdCBkZWxldGVVc2VyKHJlcSwgcmVzKTtcclxuXHJcbiAgICAvLyBDaGVjayB0aGUgcmVzcG9uc2Ugc3RhdHVzIGNvZGVcclxuICAgIGV4cGVjdChyZXMuc3RhdHVzQ29kZSwgNDA0KTtcclxuICAgIC8vIENoZWNrIHRoZSByZXNwb25zZSBtZXNzYWdlXHJcbiAgICBleHBlY3QocmVzLnJlc3BvbnNlRGF0YS5tZXNzYWdlLCAnVXNlciBub3QgZm91bmQhJyk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgaGFuZGxlIGRlbGV0aW9uIG9mIGEgbm9uLWV4aXN0ZW50IHVzZXIgYW5kIGxlYXZlIEpTT04gdW5jaGFuZ2VkJywgYXN5bmMgZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc3Qgbm9uRXhpc3RlbnRVc2VySWQgPSAnbm9uZXhpc3RlbnQnOyAvLyBSZXBsYWNlIHdpdGggYSBub24tZXhpc3RlbnQgdXNlciBJRCBmb3IgeW91ciB0ZXN0XHJcblxyXG4gICAgLy8gUmVhZCB0aGUgY29udGVudCBvZiB1c2Vycy5qc29uIGJlZm9yZSB0aGUgZGVsZXRpb25cclxuICAgIGNvbnN0IHVzZXJzQmVmb3JlRGVsZXRpb24gPSBhd2FpdCByZWFkSlNPTigndXRpbHMvdXNlcnMuanNvbicpO1xyXG5cclxuICAgIC8vIE1vY2sgdGhlIHJlcXVlc3QgYW5kIHJlc3BvbnNlIG9iamVjdHNcclxuICAgIGNvbnN0IHJlcSA9IHtcclxuICAgICAgcGFyYW1zOiB7IGlkOiBub25FeGlzdGVudFVzZXJJZCB9LFxyXG4gICAgfTtcclxuICAgIGNvbnN0IHJlcyA9IHtcclxuICAgICAgc3RhdHVzOiBmdW5jdGlvbiAoY29kZSkge1xyXG4gICAgICAgIHRoaXMuc3RhdHVzQ29kZSA9IGNvZGU7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgIH0sXHJcbiAgICAgIGpzb246IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5yZXNwb25zZURhdGEgPSBkYXRhO1xyXG4gICAgICB9LFxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBDYWxsIHRoZSBkZWxldGVVc2VyIGZ1bmN0aW9uXHJcbiAgICBhd2FpdCBkZWxldGVVc2VyKHJlcSwgcmVzKTtcclxuXHJcbiAgICAvLyBDaGVjayB0aGUgcmVzcG9uc2Ugc3RhdHVzIGNvZGVcclxuICAgIGV4cGVjdChyZXMuc3RhdHVzQ29kZSkudG8uZXF1YWwoNDA0KTtcclxuICAgIC8vIENoZWNrIHRoZSByZXNwb25zZSBtZXNzYWdlXHJcbiAgICBleHBlY3QocmVzLnJlc3BvbnNlRGF0YS5tZXNzYWdlKS50by5lcXVhbCgnVXNlciBub3QgZm91bmQhJyk7XHJcblxyXG4gICAgY29uc3QgdXNlcnNBZnRlckRlbGV0aW9uID0gYXdhaXQgcmVhZEpTT04oJ3V0aWxzL3VzZXJzLmpzb24nKTtcclxuXHJcbiAgICAvLyBDb21wYXJlIHRoZSBjb250ZW50cyBiZWZvcmUgYW5kIGFmdGVyIGRlbGV0aW9uXHJcbiAgICBleHBlY3QodXNlcnNBZnRlckRlbGV0aW9uKS50by5kZWVwLmVxdWFsKHVzZXJzQmVmb3JlRGVsZXRpb24pO1xyXG4gIH0pO1xyXG5cclxuICBcclxuICBcclxuXHJcbiAgaXQoJ3Nob3VsZCBkZW55IHRoZSB1c2VyIG9mIGRlbGV0aW5nIGEgdXNlciBpZiB0aGUgdXNlciBiZWluZyBkZWxldGVkIGlzIHRoZSBvbmx5IHVzZXIgYXQgbGV2ZWwgMicsIGFzeW5jIGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnN0IHRlc3RVc2VySWQgPSAnMzE2JzsgLy8gUmVwbGFjZSB3aXRoIGFuIGFjdHVhbCB1c2VyIElEIGZvciB5b3VyIHRlc3RcclxuXHJcbiAgICAvLyBNb2NrIHRoZSByZXF1ZXN0IGFuZCByZXNwb25zZSBvYmplY3RzXHJcbiAgICBjb25zdCByZXEgPSB7XHJcbiAgICAgIHBhcmFtczogeyBpZDogdGVzdFVzZXJJZCB9LFxyXG4gICAgfTtcclxuICAgIGNvbnN0IHJlcyA9IHtcclxuICAgICAgc3RhdHVzOiBmdW5jdGlvbiAoY29kZSkge1xyXG4gICAgICAgIHRoaXMuc3RhdHVzQ29kZSA9IGNvZGU7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgIH0sXHJcbiAgICAgIGpzb246IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5yZXNwb25zZURhdGEgPSBkYXRhO1xyXG4gICAgICB9LFxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBDYWxsIHRoZSBkZWxldGVVc2VyIGZ1bmN0aW9uXHJcbiAgICBhd2FpdCBkZWxldGVVc2VyKHJlcSwgcmVzKTtcclxuXHJcblxyXG4gICAgLy8gQ2hlY2sgdGhlIHJlc3BvbnNlIHN0YXR1cyBjb2RlXHJcbiAgICBleHBlY3QocmVzLnN0YXR1c0NvZGUpLnRvLmVxdWFsKDQwMCk7XHJcbiAgICBleHBlY3QocmVzLnJlc3BvbnNlRGF0YS5tZXNzYWdlKS50by5lcXVhbCgnQ2Fubm90IGRlbGV0ZSB0aGUgbGFzdCB1c2VyIHdpdGggbGV2ZWwgMiEnKTtcclxuICB9KTtcclxuXHJcblxyXG5cclxuXHJcblxyXG59KTtcclxuIl0sIm1hcHBpbmdzIjoiNDlNQWVZO0FBQUFBLGNBQUEsU0FBQUEsQ0FBQSxTQUFBQyxjQUFBLFdBQUFBLGNBQUEsRUFBQUQsY0FBQSxHQWZaLEtBQU0sQ0FBQUUsRUFBRSxFQUFBRixjQUFBLEdBQUFHLENBQUEsTUFBR0MsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDQyxRQUFRLEVBQ2pDLEtBQU0sQ0FBRUMsVUFBVSxDQUFDQyxRQUFTLENBQUMsRUFBQVAsY0FBQSxHQUFBRyxDQUFBLE1BQUdDLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxFQUFFO0FBQzlELEtBQU0sQ0FBQUksTUFBTSxFQUFBUixjQUFBLEdB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