function cov_skv3qinqn(){var path="C:\\Users\\ryanl\\Documents\\DVOPS_Projects\\project\\DVOPS-part1\\utils\\EditProfile.js";var hash="88cea69aa05f2eddade808c9c75e9e618ca7ad63";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\ryanl\\Documents\\DVOPS_Projects\\project\\DVOPS-part1\\utils\\EditProfile.js",statementMap:{"0":{start:{line:1,column:32},end:{line:1,column:53}},"1":{start:{line:3,column:10},end:{line:3,column:32}},"2":{start:{line:6,column:4},end:{line:45,column:1}},"3":{start:{line:8,column:17},end:{line:8,column:30}},"4":{start:{line:9,column:20},end:{line:9,column:37}},"5":{start:{line:10,column:17},end:{line:10,column:31}},"6":{start:{line:11,column:18},end:{line:11,column:34}},"7":{start:{line:12,column:15},end:{line:12,column:28}},"8":{start:{line:14,column:22},end:{line:14,column:56}},"9":{start:{line:15,column:18},end:{line:15,column:23}},"10":{start:{line:16,column:4},end:{line:28,column:5}},"11":{start:{line:16,column:14},end:{line:16,column:15}},"12":{start:{line:17,column:28},end:{line:17,column:41}},"13":{start:{line:18,column:8},end:{line:27,column:9}},"14":{start:{line:20,column:12},end:{line:20,column:36}},"15":{start:{line:21,column:12},end:{line:21,column:44}},"16":{start:{line:22,column:12},end:{line:22,column:38}},"17":{start:{line:23,column:12},end:{line:23,column:42}},"18":{start:{line:24,column:12},end:{line:24,column:36}},"19":{start:{line:25,column:12},end:{line:25,column:26}},"20":{start:{line:29,column:4},end:{line:33,column:5}},"21":{start:{line:30,column:8},end:{line:30,column:23}},"22":{start:{line:31,column:8},end:{line:31,column:74}},"23":{start:{line:34,column:5},end:{line:41,column:5}},"24":{start:{line:35,column:8},end:{line:35,column:82}},"25":{start:{line:36,column:8},end:{line:36,column:79}},"26":{start:{line:40,column:8},end:{line:40,column:78}},"27":{start:{line:44,column:0},end:{line:44,column:54}},"28":{start:{line:47,column:0},end:{line:49,column:2}}},fnMap:{"0":{name:"editProfile",decl:{start:{line:5,column:15},end:{line:5,column:26}},loc:{start:{line:5,column:35},end:{line:46,column:1}},line:5}},branchMap:{"0":{loc:{start:{line:18,column:8},end:{line:27,column:9}},type:"if",locations:[{start:{line:18,column:8},end:{line:27,column:9}},{start:{line:18,column:8},end:{line:27,column:9}}],line:18},"1":{loc:{start:{line:29,column:4},end:{line:33,column:5}},type:"if",locations:[{start:{line:29,column:4},end:{line:33,column:5}},{start:{line:29,column:4},end:{line:33,column:5}}],line:29},"2":{loc:{start:{line:34,column:5},end:{line:41,column:5}},type:"if",locations:[{start:{line:34,column:5},end:{line:41,column:5}},{start:{line:34,column:5},end:{line:41,column:5}}],line:34}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0},f:{"0":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"88cea69aa05f2eddade808c9c75e9e618ca7ad63"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_skv3qinqn=function(){return actualCoverage;};}return actualCoverage;}cov_skv3qinqn();const{readJSON,writeJSON}=(cov_skv3qinqn().s[0]++,require('./UserUtil'));const fs=(cov_skv3qinqn().s[1]++,require('fs').promises);async function editProfile(req,res){cov_skv3qinqn().f[0]++;cov_skv3qinqn().s[2]++;try{const name=(cov_skv3qinqn().s[3]++,req.body.name);const password=(cov_skv3qinqn().s[4]++,req.body.password);const level=(cov_skv3qinqn().s[5]++,req.body.level);const time_in=(cov_skv3qinqn().s[6]++,req.body.time_in);const date=(cov_skv3qinqn().s[7]++,req.body.date);const allProfile=(cov_skv3qinqn().s[8]++,await readJSON('utils/users.json'));var modified=(cov_skv3qinqn().s[9]++,false);cov_skv3qinqn().s[10]++;for(var i=(cov_skv3qinqn().s[11]++,0);i<allProfile.length;i++){var curcurrProfile=(cov_skv3qinqn().s[12]++,allProfile[i]);cov_skv3qinqn().s[13]++;if(curcurrProfile.name==name){cov_skv3qinqn().b[0][0]++;cov_skv3qinqn().s[14]++;allProfile[i].name=name;cov_skv3qinqn().s[15]++;allProfile[i].password=password;cov_skv3qinqn().s[16]++;allProfile[i].level=level;cov_skv3qinqn().s[17]++;allProfile[i].time_in=time_in;cov_skv3qinqn().s[18]++;allProfile[i].date=date;cov_skv3qinqn().s[19]++;modified=true;}else{cov_skv3qinqn().b[0][1]++;}}cov_skv3qinqn().s[20]++;if(password.length<6){cov_skv3qinqn().b[1][0]++;cov_skv3qinqn().s[21]++;//if modified ==true
modified==false;cov_skv3qinqn().s[22]++;return res.status(500).json({message:'Password legth too short'});}else{cov_skv3qinqn().b[1][1]++;}cov_skv3qinqn().s[23]++;if(modified==true){cov_skv3qinqn().b[2][0]++;cov_skv3qinqn().s[24]++;//if modified ==true
await fs.writeFile('utils/users.json',JSON.stringify(allProfile),'utf-8');cov_skv3qinqn().s[25]++;return res.status(201).json({message:'Profile modified successfully'});}else{cov_skv3qinqn().b[2][1]++;cov_skv3qinqn().s[26]++;return res.status(500).json({message:'Error occured,Unable to edit'});}}catch(error){cov_skv3qinqn().s[27]++;return res.status(500).json({message:error.message});}}cov_skv3qinqn().s[28]++;module.exports={editProfile};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3Zfc2t2M3FpbnFuIiwiYWN0dWFsQ292ZXJhZ2UiLCJyZWFkSlNPTiIsIndyaXRlSlNPTiIsInMiLCJyZXF1aXJlIiwiZnMiLCJwcm9taXNlcyIsImVkaXRQcm9maWxlIiwicmVxIiwicmVzIiwiZiIsIm5hbWUiLCJib2R5IiwicGFzc3dvcmQiLCJsZXZlbCIsInRpbWVfaW4iLCJkYXRlIiwiYWxsUHJvZmlsZSIsIm1vZGlmaWVkIiwiaSIsImxlbmd0aCIsImN1cmN1cnJQcm9maWxlIiwiYiIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwid3JpdGVGaWxlIiwiSlNPTiIsInN0cmluZ2lmeSIsImVycm9yIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIkVkaXRQcm9maWxlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgcmVhZEpTT04sIHdyaXRlSlNPTiB9ID0gcmVxdWlyZSgnLi9Vc2VyVXRpbCcpXHJcblxyXG5jb25zdCBmcyA9cmVxdWlyZSgnZnMnKS5wcm9taXNlcztcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGVkaXRQcm9maWxlKHJlcSxyZXMpe1xyXG4gICAgdHJ5e1xyXG4gICAgXHJcbiAgICBjb25zdCBuYW1lID0gcmVxLmJvZHkubmFtZTtcclxuICAgIGNvbnN0IHBhc3N3b3JkID1yZXEuYm9keS5wYXNzd29yZDtcclxuICAgIGNvbnN0IGxldmVsID1yZXEuYm9keS5sZXZlbDtcclxuICAgIGNvbnN0IHRpbWVfaW49cmVxLmJvZHkudGltZV9pbjtcclxuICAgIGNvbnN0IGRhdGU9cmVxLmJvZHkuZGF0ZTtcclxuICAgIFxyXG4gICAgY29uc3QgYWxsUHJvZmlsZSA9YXdhaXQgcmVhZEpTT04oJ3V0aWxzL3VzZXJzLmpzb24nKTtcclxuICAgIHZhciBtb2RpZmllZCA9ZmFsc2U7XHJcbiAgICBmb3IodmFyIGk9MDtpPGFsbFByb2ZpbGUubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgdmFyIGN1cmN1cnJQcm9maWxlID1hbGxQcm9maWxlW2ldO1xyXG4gICAgICAgIGlmKGN1cmN1cnJQcm9maWxlLm5hbWU9PW5hbWUpe1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgYWxsUHJvZmlsZVtpXS5uYW1lPW5hbWU7XHJcbiAgICAgICAgICAgIGFsbFByb2ZpbGVbaV0ucGFzc3dvcmQ9cGFzc3dvcmQ7XHJcbiAgICAgICAgICAgIGFsbFByb2ZpbGVbaV0ubGV2ZWw9bGV2ZWw7XHJcbiAgICAgICAgICAgIGFsbFByb2ZpbGVbaV0udGltZV9pbj10aW1lX2luO1xyXG4gICAgICAgICAgICBhbGxQcm9maWxlW2ldLmRhdGU9ZGF0ZTtcclxuICAgICAgICAgICAgbW9kaWZpZWQ9dHJ1ZTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYocGFzc3dvcmQubGVuZ3RoPDYpey8vaWYgbW9kaWZpZWQgPT10cnVlXHJcbiAgICAgICAgbW9kaWZpZWQ9PWZhbHNlXHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHttZXNzYWdlOidQYXNzd29yZCBsZWd0aCB0b28gc2hvcnQnfSk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbiAgICAgaWYobW9kaWZpZWQ9PXRydWUpey8vaWYgbW9kaWZpZWQgPT10cnVlXHJcbiAgICAgICAgYXdhaXQgZnMud3JpdGVGaWxlKCd1dGlscy91c2Vycy5qc29uJyxKU09OLnN0cmluZ2lmeShhbGxQcm9maWxlKSwndXRmLTgnKTtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24oe21lc3NhZ2U6J1Byb2ZpbGUgbW9kaWZpZWQgc3VjY2Vzc2Z1bGx5J30pO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG4gICBlbHNle1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7bWVzc2FnZTonRXJyb3Igb2NjdXJlZCxVbmFibGUgdG8gZWRpdCd9KTtcclxuICAgIH1cclxuICAgXHJcbn1jYXRjaChlcnJvcil7XHJcbnJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7bWVzc2FnZTogZXJyb3IubWVzc2FnZX0pO1xyXG59XHJcbn1cclxubW9kdWxlLmV4cG9ydHM9e1xyXG4gICAgZWRpdFByb2ZpbGVcclxufTsiXSwibWFwcGluZ3MiOiJxcEdBZVk7QUFBQUEsYUFBQSxTQUFBQSxDQUFBLFNBQUFDLGNBQUEsV0FBQUEsY0FBQSxFQUFBRCxhQUFBLEdBZlosS0FBTSxDQUFFRSxRQUFRLENBQUVDLFNBQVUsQ0FBQyxFQUFBSCxhQUFBLEdBQUFJLENBQUEsTUFBR0MsT0FBTyxDQUFDLFlBQVksQ0FBQyxFQUVyRCxLQUFNLENBQUFDLEVBQUUsRUFBQU4sYUFBQSxHQUFBSSxDQUFBLE1BQUVDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQ0UsUUFBUSxFQUVoQyxjQUFlLENBQUFDLFdBQVdBLENBQUNDLEdBQUcsQ0FBQ0MsR0FBRyxDQUFDLENBQUFWLGFBQUEsR0FBQVcsQ0FBQSxNQUFBWCxhQUFBLEdBQUFJLENBQUEsTUFDL0IsR0FBRyxDQUVILEtBQU0sQ0FBQVEsSUFBSSxFQUFBWixhQUFBLEdBQUFJLENBQUEsTUFBR0ssR0FBRyxDQUFDSSxJQUFJLENBQUNELElBQUksRUFDMUIsS0FBTSxDQUFBRSxRQUFRLEVBQUFkLGFBQUEsR0FBQUksQ0FBQSxNQUFFSyxHQUFHLENBQUNJLElBQUksQ0FBQ0MsUUFBUSxFQUNqQyxLQUFNLENBQUFDLEtBQUssRUFBQWYsYUFBQSxHQUFBSSxDQUFBLE1BQUVLLEdBQUcsQ0FBQ0ksSUFBSSxDQUFDRSxLQUFLLEVBQzNCLEtBQU0sQ0FBQUMsT0FBTyxFQUFBaEIsYUFBQSxHQUFBSSxDQUFBLE1BQUNLLEdBQUcsQ0FBQ0ksSUFBSSxDQUFDRyxPQUFPLEVBQzlCLEtBQU0sQ0FBQUMsSUFBSSxFQUFBakIsYUFBQSxHQUFBSSxDQUFBLE1BQUNLLEdBQUcsQ0FBQ0ksSUFBSSxDQUFDSSxJQUFJLEVBRXhCLEtBQU0sQ0FBQUMsVUFBVSxFQUFBbEIsYUFBQSxHQUFBSSxDQUFBLE1BQUUsS0FBTSxDQUFBRixRQUFRLENBQUMs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