function cov_5nupk2pbz(){var path="C:\\Users\\user\\OneDrive - Temasek Polytechnic\\Desktop\\devops\\DVOPS-part1\\tests\\EODTests.test.js";var hash="abd7a7a81c38e3f297f96e8902e2c65bbf591f47";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\user\\OneDrive - Temasek Polytechnic\\Desktop\\devops\\DVOPS-part1\\tests\\EODTests.test.js",statementMap:{"0":{start:{line:1,column:25},end:{line:1,column:41}},"1":{start:{line:2,column:19},end:{line:2,column:34}},"2":{start:{line:3,column:11},end:{line:3,column:33}},"3":{start:{line:4,column:21},end:{line:4,column:49}},"4":{start:{line:5,column:23},end:{line:5,column:53}},"5":{start:{line:6,column:31},end:{line:6,column:59}},"6":{start:{line:7,column:24},end:{line:7,column:55}},"7":{start:{line:10,column:0},end:{line:63,column:3}},"8":{start:{line:11,column:30},end:{line:11,column:48}},"9":{start:{line:12,column:21},end:{line:12,column:23}},"10":{start:{line:13,column:4},end:{line:16,column:7}},"11":{start:{line:14,column:8},end:{line:14,column:66}},"12":{start:{line:15,column:8},end:{line:15,column:44}},"13":{start:{line:17,column:4},end:{line:19,column:7}},"14":{start:{line:18,column:8},end:{line:18,column:82}},"15":{start:{line:22,column:3},end:{line:43,column:7}},"16":{start:{line:23,column:20},end:{line:32,column:9}},"17":{start:{line:33,column:20},end:{line:41,column:9}},"18":{start:{line:35,column:16},end:{line:35,column:43}},"19":{start:{line:36,column:16},end:{line:36,column:28}},"20":{start:{line:39,column:16},end:{line:39,column:61}},"21":{start:{line:42,column:8},end:{line:42,column:33}},"22":{start:{line:49,column:8},end:{line:62,column:10}},"23":{start:{line:51,column:22},end:{line:58,column:11}},"24":{start:{line:52,column:37},end:{line:57,column:13}},"25":{start:{line:54,column:16},end:{line:54,column:49}},"26":{start:{line:61,column:10},end:{line:61,column:36}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:10,column:33},end:{line:10,column:34}},loc:{start:{line:10,column:39},end:{line:63,column:1}},line:10},"1":{name:"(anonymous_1)",decl:{start:{line:13,column:15},end:{line:13,column:16}},loc:{start:{line:13,column:27},end:{line:16,column:5}},line:13},"2":{name:"(anonymous_2)",decl:{start:{line:17,column:14},end:{line:17,column:15}},loc:{start:{line:17,column:26},end:{line:19,column:5}},line:17},"3":{name:"(anonymous_3)",decl:{start:{line:22,column:77},end:{line:22,column:78}},loc:{start:{line:22,column:89},end:{line:43,column:5}},line:22},"4":{name:"(anonymous_4)",decl:{start:{line:34,column:20},end:{line:34,column:21}},loc:{start:{line:34,column:36},end:{line:37,column:13}},line:34},"5":{name:"(anonymous_5)",decl:{start:{line:38,column:18},end:{line:38,column:19}},loc:{start:{line:38,column:34},end:{line:40,column:13}},line:38},"6":{name:"(anonymous_6)",decl:{start:{line:49,column:65},end:{line:49,column:66}},loc:{start:{line:49,column:77},end:{line:62,column:9}},line:49},"7":{name:"(anonymous_7)",decl:{start:{line:52,column:20},end:{line:52,column:21}},loc:{start:{line:52,column:37},end:{line:57,column:13}},line:52},"8":{name:"(anonymous_8)",decl:{start:{line:53,column:20},end:{line:53,column:21}},loc:{start:{line:53,column:36},end:{line:56,column:15}},line:53}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"abd7a7a81c38e3f297f96e8902e2c65bbf591f47"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_5nupk2pbz=function(){return actualCoverage;};}return actualCoverage;}cov_5nupk2pbz();const{describe,it}=(cov_5nupk2pbz().s[0]++,require('mocha'));const{expect}=(cov_5nupk2pbz().s[1]++,require('chai'));const fs=(cov_5nupk2pbz().s[2]++,require('fs').promises);const{EndOfDay}=(cov_5nupk2pbz().s[3]++,require('../utils/EndOfDay'));const{getProfile}=(cov_5nupk2pbz().s[4]++,require('../utils/GetProfile'));const{readJSON,writeJSON}=(cov_5nupk2pbz().s[5]++,require('../utils/UserUtil'));const{editProfile}=(cov_5nupk2pbz().s[6]++,require('../utils/EditProfile'));cov_5nupk2pbz().s[7]++;describe('Testing EOD features',()=>{cov_5nupk2pbz().f[0]++;const resourcesFilePath=(cov_5nupk2pbz().s[8]++,'utils/users.json');var orgContent=(cov_5nupk2pbz().s[9]++,"");cov_5nupk2pbz().s[10]++;beforeEach(async()=>{cov_5nupk2pbz().f[1]++;cov_5nupk2pbz().s[11]++;orgContent=await fs.readFile(resourcesFilePath,'utf8');cov_5nupk2pbz().s[12]++;orgContent=JSON.parse(orgContent);});cov_5nupk2pbz().s[13]++;afterEach(async()=>{cov_5nupk2pbz().f[2]++;cov_5nupk2pbz().s[14]++;await fs.writeFile(resourcesFilePath,JSON.stringify(orgContent),'utf8');});cov_5nupk2pbz().s[15]++;it('Should not be able to add profile to eod.json due to incorrect date',async()=>{cov_5nupk2pbz().f[3]++;const req=(cov_5nupk2pbz().s[16]++,{body:{id:"213",name:"namee",password:"123456",level:"1",time_in:"8:29:35 pm",date:"26/11/2023"}});const res=(cov_5nupk2pbz().s[17]++,{status:function(code){cov_5nupk2pbz().f[4]++;cov_5nupk2pbz().s[18]++;expect(code).to.equal(500);cov_5nupk2pbz().s[19]++;return this;},json:function(data){cov_5nupk2pbz().f[5]++;cov_5nupk2pbz().s[20]++;expect(data.message).to.not.equal(undefined);}});cov_5nupk2pbz().s[21]++;await EndOfDay(req,res);});cov_5nupk2pbz().s[22]++;it('should write to eod.json if date is equal to today',async()=>{cov_5nupk2pbz().f[6]++;const res=(cov_5nupk2pbz().s[23]++,{status:statusCode=>{cov_5nupk2pbz().f[7]++;cov_5nupk2pbz().s[24]++;return{json:function(data){cov_5nupk2pbz().f[8]++;cov_5nupk2pbz().s[25]++;expect(statusCode).to.equal(201);}};}});cov_5nupk2pbz().s[26]++;await EndOfDay(null,res);});});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfNW51cGsycGJ6IiwiYWN0dWFsQ292ZXJhZ2UiLCJkZXNjcmliZSIsIml0IiwicyIsInJlcXVpcmUiLCJleHBlY3QiLCJmcyIsInByb21pc2VzIiwiRW5kT2ZEYXkiLCJnZXRQcm9maWxlIiwicmVhZEpTT04iLCJ3cml0ZUpTT04iLCJlZGl0UHJvZmlsZSIsImYiLCJyZXNvdXJjZXNGaWxlUGF0aCIsIm9yZ0NvbnRlbnQiLCJiZWZvcmVFYWNoIiwicmVhZEZpbGUiLCJKU09OIiwicGFyc2UiLCJhZnRlckVhY2giLCJ3cml0ZUZpbGUiLCJzdHJpbmdpZnkiLCJyZXEiLCJib2R5IiwiaWQiLCJuYW1lIiwicGFzc3dvcmQiLCJsZXZlbCIsInRpbWVfaW4iLCJkYXRlIiwicmVzIiwic3RhdHVzIiwiY29kZSIsInRvIiwiZXF1YWwiLCJqc29uIiwiZGF0YSIsIm1lc3NhZ2UiLCJub3QiLCJ1bmRlZmluZWQiLCJzdGF0dXNDb2RlIl0sInNvdXJjZXMiOlsiRU9EVGVzdHMudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IGRlc2NyaWJlLCBpdCB9ID0gcmVxdWlyZSgnbW9jaGEnKTtcclxuY29uc3QgeyBleHBlY3QgfSA9IHJlcXVpcmUoJ2NoYWknKTtcclxuY29uc3QgZnMgPSByZXF1aXJlKCdmcycpLnByb21pc2VzO1xyXG5jb25zdCB7IEVuZE9mRGF5IH0gPSByZXF1aXJlKCcuLi91dGlscy9FbmRPZkRheScpO1xyXG5jb25zdCB7IGdldFByb2ZpbGUgfSA9IHJlcXVpcmUoJy4uL3V0aWxzL0dldFByb2ZpbGUnKTtcclxuY29uc3QgeyByZWFkSlNPTix3cml0ZUpTT04gfSA9IHJlcXVpcmUoJy4uL3V0aWxzL1VzZXJVdGlsJyk7XHJcbmNvbnN0IHsgZWRpdFByb2ZpbGUgfSA9IHJlcXVpcmUoJy4uL3V0aWxzL0VkaXRQcm9maWxlJyk7XHJcblxyXG5cclxuZGVzY3JpYmUoJ1Rlc3RpbmcgRU9EIGZlYXR1cmVzJywgKCkgPT4ge1xyXG4gICAgY29uc3QgcmVzb3VyY2VzRmlsZVBhdGggPSAndXRpbHMvdXNlcnMuanNvbic7XHJcbiAgICB2YXIgb3JnQ29udGVudCA9IFwiXCI7XHJcbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcclxuICAgICAgICBvcmdDb250ZW50ID0gYXdhaXQgZnMucmVhZEZpbGUocmVzb3VyY2VzRmlsZVBhdGgsICd1dGY4Jyk7XHJcbiAgICAgICAgb3JnQ29udGVudCA9IEpTT04ucGFyc2Uob3JnQ29udGVudCk7XHJcbiAgICB9KTtcclxuICAgIGFmdGVyRWFjaChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgYXdhaXQgZnMud3JpdGVGaWxlKHJlc291cmNlc0ZpbGVQYXRoLCBKU09OLnN0cmluZ2lmeShvcmdDb250ZW50KSwgJ3V0ZjgnKTtcclxuICAgIH0pO1xyXG4gIFxyXG4gIFxyXG4gICBpdCgnU2hvdWxkIG5vdCBiZSBhYmxlIHRvIGFkZCBwcm9maWxlIHRvIGVvZC5qc29uIGR1ZSB0byBpbmNvcnJlY3QgZGF0ZScsIGFzeW5jICgpID0+IHtcclxuICAgICAgICBjb25zdCByZXEgPSB7XHJcbiAgICAgICAgICAgIGJvZHk6IHtcclxuICAgICAgICAgICAgICAgIGlkOlwiMjEzXCIsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm5hbWVlXCIsXHJcbiAgICAgICAgICAgICAgICBwYXNzd29yZDogXCIxMjM0NTZcIixcclxuICAgICAgICAgICAgICAgIGxldmVsOiBcIjFcIixcclxuICAgICAgICAgICAgICAgIHRpbWVfaW46IFwiODoyOTozNSBwbVwiLFxyXG4gICAgICAgICAgICAgICAgZGF0ZTogXCIyNi8xMS8yMDIzXCJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IHJlcyA9IHtcclxuICAgICAgICAgICAgc3RhdHVzOiBmdW5jdGlvbiAoY29kZSkge1xyXG4gICAgICAgICAgICAgICAgZXhwZWN0KGNvZGUpLnRvLmVxdWFsKDUwMCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAganNvbjogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGV4cGVjdChkYXRhLm1lc3NhZ2UpLnRvLm5vdC5lcXVhbCh1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgYXdhaXQgRW5kT2ZEYXkocmVxLCByZXMpO1xyXG4gICAgfSk7XHJcblxyXG4gXHJcbiAgICBcclxuICAgXHJcbiAgICAgIFxyXG4gICAgICAgIGl0KCdzaG91bGQgd3JpdGUgdG8gZW9kLmpzb24gaWYgZGF0ZSBpcyBlcXVhbCB0byB0b2RheScsIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgY29uc3QgcmVzID0ge1xyXG4gICAgICAgICAgICBzdGF0dXM6IChzdGF0dXNDb2RlKSA9PiAoe1xyXG4gICAgICAgICAgICAgIGpzb246IGZ1bmN0aW9uKGRhdGEpICB7XHJcbiAgICAgICAgICAgICAgICBleHBlY3Qoc3RhdHVzQ29kZSkudG8uZXF1YWwoMjAxKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGF3YWl0IEVuZE9mRGF5KG51bGwsIHJlcyk7XHJcbiAgICAgICAgfSlcclxufSk7XHJcbiJdLCJtYXBwaW5ncyI6IjJxSEFlWTtBQUFBQSxhQUFBLFNBQUFBLENBQUEsU0FBQUMsY0FBQSxXQUFBQSxjQUFBLEVBQUFELGFBQUEsR0FmWixLQUFNLENBQUVFLFFBQVEsQ0FBRUMsRUFBRyxDQUFDLEVBQUFILGFBQUEsR0FBQUksQ0FBQSxNQUFHQyxPQUFPLENBQUMsT0FBTyxDQUFDLEVBQ3pDLEtBQU0sQ0FBRUMsTUFBTyxDQUFDLEVBQUFOLGFBQUEsR0FBQUksQ0FBQSxNQUFHQyxPQUFP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