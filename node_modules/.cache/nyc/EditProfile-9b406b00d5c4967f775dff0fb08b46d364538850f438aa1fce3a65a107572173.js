function cov_1oh7euaj88(){var path="C:\\Users\\jaspe\\Documents\\DVOPS_part1\\DVOPS-part1\\utils\\EditProfile.js";var hash="c3c6ca6c37a1f3cd8c0954ef960e6c0ffe547e35";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\jaspe\\Documents\\DVOPS_part1\\DVOPS-part1\\utils\\EditProfile.js",statementMap:{"0":{start:{line:1,column:32},end:{line:1,column:53}},"1":{start:{line:3,column:10},end:{line:3,column:32}},"2":{start:{line:6,column:4},end:{line:45,column:1}},"3":{start:{line:8,column:17},end:{line:8,column:30}},"4":{start:{line:9,column:20},end:{line:9,column:37}},"5":{start:{line:10,column:17},end:{line:10,column:31}},"6":{start:{line:11,column:18},end:{line:11,column:34}},"7":{start:{line:12,column:15},end:{line:12,column:28}},"8":{start:{line:14,column:22},end:{line:14,column:56}},"9":{start:{line:15,column:18},end:{line:15,column:23}},"10":{start:{line:16,column:4},end:{line:28,column:5}},"11":{start:{line:16,column:14},end:{line:16,column:15}},"12":{start:{line:17,column:28},end:{line:17,column:41}},"13":{start:{line:18,column:8},end:{line:27,column:9}},"14":{start:{line:20,column:12},end:{line:20,column:36}},"15":{start:{line:21,column:12},end:{line:21,column:44}},"16":{start:{line:22,column:12},end:{line:22,column:38}},"17":{start:{line:23,column:12},end:{line:23,column:42}},"18":{start:{line:24,column:12},end:{line:24,column:36}},"19":{start:{line:25,column:12},end:{line:25,column:26}},"20":{start:{line:29,column:4},end:{line:33,column:5}},"21":{start:{line:30,column:8},end:{line:30,column:23}},"22":{start:{line:31,column:8},end:{line:31,column:74}},"23":{start:{line:34,column:5},end:{line:41,column:5}},"24":{start:{line:35,column:8},end:{line:35,column:82}},"25":{start:{line:36,column:8},end:{line:36,column:79}},"26":{start:{line:40,column:8},end:{line:40,column:78}},"27":{start:{line:44,column:0},end:{line:44,column:54}},"28":{start:{line:47,column:0},end:{line:49,column:2}}},fnMap:{"0":{name:"editProfile",decl:{start:{line:5,column:15},end:{line:5,column:26}},loc:{start:{line:5,column:35},end:{line:46,column:1}},line:5}},branchMap:{"0":{loc:{start:{line:18,column:8},end:{line:27,column:9}},type:"if",locations:[{start:{line:18,column:8},end:{line:27,column:9}},{start:{line:18,column:8},end:{line:27,column:9}}],line:18},"1":{loc:{start:{line:29,column:4},end:{line:33,column:5}},type:"if",locations:[{start:{line:29,column:4},end:{line:33,column:5}},{start:{line:29,column:4},end:{line:33,column:5}}],line:29},"2":{loc:{start:{line:34,column:5},end:{line:41,column:5}},type:"if",locations:[{start:{line:34,column:5},end:{line:41,column:5}},{start:{line:34,column:5},end:{line:41,column:5}}],line:34}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0},f:{"0":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c3c6ca6c37a1f3cd8c0954ef960e6c0ffe547e35"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1oh7euaj88=function(){return actualCoverage;};}return actualCoverage;}cov_1oh7euaj88();const{readJSON,writeJSON}=(cov_1oh7euaj88().s[0]++,require('./UserUtil'));const fs=(cov_1oh7euaj88().s[1]++,require('fs').promises);async function editProfile(req,res){cov_1oh7euaj88().f[0]++;cov_1oh7euaj88().s[2]++;try{const name=(cov_1oh7euaj88().s[3]++,req.body.name);const password=(cov_1oh7euaj88().s[4]++,req.body.password);const level=(cov_1oh7euaj88().s[5]++,req.body.level);const time_in=(cov_1oh7euaj88().s[6]++,req.body.time_in);const date=(cov_1oh7euaj88().s[7]++,req.body.date);const allProfile=(cov_1oh7euaj88().s[8]++,await readJSON('utils/users.json'));var modified=(cov_1oh7euaj88().s[9]++,false);cov_1oh7euaj88().s[10]++;for(var i=(cov_1oh7euaj88().s[11]++,0);i<allProfile.length;i++){var curcurrProfile=(cov_1oh7euaj88().s[12]++,allProfile[i]);cov_1oh7euaj88().s[13]++;if(curcurrProfile.name==name){cov_1oh7euaj88().b[0][0]++;cov_1oh7euaj88().s[14]++;allProfile[i].name=name;cov_1oh7euaj88().s[15]++;allProfile[i].password=password;cov_1oh7euaj88().s[16]++;allProfile[i].level=level;cov_1oh7euaj88().s[17]++;allProfile[i].time_in=time_in;cov_1oh7euaj88().s[18]++;allProfile[i].date=date;cov_1oh7euaj88().s[19]++;modified=true;}else{cov_1oh7euaj88().b[0][1]++;}}cov_1oh7euaj88().s[20]++;if(password.length<6){cov_1oh7euaj88().b[1][0]++;cov_1oh7euaj88().s[21]++;//if modified ==true
modified==false;cov_1oh7euaj88().s[22]++;return res.status(500).json({message:'Password legth too short'});}else{cov_1oh7euaj88().b[1][1]++;}cov_1oh7euaj88().s[23]++;if(modified==true){cov_1oh7euaj88().b[2][0]++;cov_1oh7euaj88().s[24]++;//if modified ==true
await fs.writeFile('utils/users.json',JSON.stringify(allProfile),'utf-8');cov_1oh7euaj88().s[25]++;return res.status(201).json({message:'Profile modified successfully'});}else{cov_1oh7euaj88().b[2][1]++;cov_1oh7euaj88().s[26]++;return res.status(500).json({message:'Error occured,Unable to edit'});}}catch(error){cov_1oh7euaj88().s[27]++;return res.status(500).json({message:error.message});}}cov_1oh7euaj88().s[28]++;module.exports={editProfile};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMW9oN2V1YWo4OCIsImFjdHVhbENvdmVyYWdlIiwicmVhZEpTT04iLCJ3cml0ZUpTT04iLCJzIiwicmVxdWlyZSIsImZzIiwicHJvbWlzZXMiLCJlZGl0UHJvZmlsZSIsInJlcSIsInJlcyIsImYiLCJuYW1lIiwiYm9keSIsInBhc3N3b3JkIiwibGV2ZWwiLCJ0aW1lX2luIiwiZGF0ZSIsImFsbFByb2ZpbGUiLCJtb2RpZmllZCIsImkiLCJsZW5ndGgiLCJjdXJjdXJyUHJvZmlsZSIsImIiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsIndyaXRlRmlsZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlcnJvciIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJFZGl0UHJvZmlsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IHJlYWRKU09OLCB3cml0ZUpTT04gfSA9IHJlcXVpcmUoJy4vVXNlclV0aWwnKVxyXG5cclxuY29uc3QgZnMgPXJlcXVpcmUoJ2ZzJykucHJvbWlzZXM7XHJcblxyXG5hc3luYyBmdW5jdGlvbiBlZGl0UHJvZmlsZShyZXEscmVzKXtcclxuICAgIHRyeXtcclxuICAgIFxyXG4gICAgY29uc3QgbmFtZSA9IHJlcS5ib2R5Lm5hbWU7XHJcbiAgICBjb25zdCBwYXNzd29yZCA9cmVxLmJvZHkucGFzc3dvcmQ7XHJcbiAgICBjb25zdCBsZXZlbCA9cmVxLmJvZHkubGV2ZWw7XHJcbiAgICBjb25zdCB0aW1lX2luPXJlcS5ib2R5LnRpbWVfaW47XHJcbiAgICBjb25zdCBkYXRlPXJlcS5ib2R5LmRhdGU7XHJcbiAgICBcclxuICAgIGNvbnN0IGFsbFByb2ZpbGUgPWF3YWl0IHJlYWRKU09OKCd1dGlscy91c2Vycy5qc29uJyk7XHJcbiAgICB2YXIgbW9kaWZpZWQgPWZhbHNlO1xyXG4gICAgZm9yKHZhciBpPTA7aTxhbGxQcm9maWxlLmxlbmd0aDtpKyspe1xyXG4gICAgICAgIHZhciBjdXJjdXJyUHJvZmlsZSA9YWxsUHJvZmlsZVtpXTtcclxuICAgICAgICBpZihjdXJjdXJyUHJvZmlsZS5uYW1lPT1uYW1lKXtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGFsbFByb2ZpbGVbaV0ubmFtZT1uYW1lO1xyXG4gICAgICAgICAgICBhbGxQcm9maWxlW2ldLnBhc3N3b3JkPXBhc3N3b3JkO1xyXG4gICAgICAgICAgICBhbGxQcm9maWxlW2ldLmxldmVsPWxldmVsO1xyXG4gICAgICAgICAgICBhbGxQcm9maWxlW2ldLnRpbWVfaW49dGltZV9pbjtcclxuICAgICAgICAgICAgYWxsUHJvZmlsZVtpXS5kYXRlPWRhdGU7XHJcbiAgICAgICAgICAgIG1vZGlmaWVkPXRydWU7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmKHBhc3N3b3JkLmxlbmd0aDw2KXsvL2lmIG1vZGlmaWVkID09dHJ1ZVxyXG4gICAgICAgIG1vZGlmaWVkPT1mYWxzZVxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7bWVzc2FnZTonUGFzc3dvcmQgbGVndGggdG9vIHNob3J0J30pO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG4gICAgIGlmKG1vZGlmaWVkPT10cnVlKXsvL2lmIG1vZGlmaWVkID09dHJ1ZVxyXG4gICAgICAgIGF3YWl0IGZzLndyaXRlRmlsZSgndXRpbHMvdXNlcnMuanNvbicsSlNPTi5zdHJpbmdpZnkoYWxsUHJvZmlsZSksJ3V0Zi04Jyk7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHttZXNzYWdlOidQcm9maWxlIG1vZGlmaWVkIHN1Y2Nlc3NmdWxseSd9KTtcclxuICAgICAgICBcclxuICAgIH1cclxuICAgZWxzZXtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe21lc3NhZ2U6J0Vycm9yIG9jY3VyZWQsVW5hYmxlIHRvIGVkaXQnfSk7XHJcbiAgICB9XHJcbiAgIFxyXG59Y2F0Y2goZXJyb3Ipe1xyXG5yZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe21lc3NhZ2U6IGVycm9yLm1lc3NhZ2V9KTtcclxufVxyXG59XHJcbm1vZHVsZS5leHBvcnRzPXtcclxuICAgIGVkaXRQcm9maWxlXHJcbn07Il0sIm1hcHBpbmdzIjoiOG5HQWVZO0FBQUFBLGNBQUEsU0FBQUEsQ0FBQSxTQUFBQyxjQUFBLFdBQUFBLGNBQUEsRUFBQUQsY0FBQSxHQWZaLEtBQU0sQ0FBRUUsUUFBUSxDQUFFQyxTQUFVLENBQUMsRUFBQUgsY0FBQSxHQUFBSSxDQUFBLE1BQUdDLE9BQU8sQ0FBQyxZQUFZLENBQUMsRUFFckQsS0FBTSxDQUFBQyxFQUFFLEVBQUFOLGNBQUEsR0FBQUksQ0FBQSxNQUFFQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUNFLFFBQVEsRUFFaEMsY0FBZSxDQUFBQyxXQUFXQSxDQUFDQyxHQUFHLENBQUNDLEdBQUcsQ0FBQyxDQUFBVixjQUFBLEdBQUFXLENBQUEsTUFBQVgsY0FBQSxHQUFBSSxDQUFBLE1BQy9CLEdBQUcsQ0FFSCxLQUFNLENBQUFRLElBQUksRUFBQVosY0FBQSxHQUFBSSxDQUFBLE1BQUdLLEdBQUcsQ0FBQ0ksSUFBSSxDQUFDRCxJQUFJLEVBQzFCLEtBQU0sQ0FBQUUsUUFBUSxFQUFBZCxjQUFBLEdBQUFJLENBQUEsTUFBRUssR0FBRyxDQUFDSSxJQUFJLENBQUNDLFFBQVEsRUFDakMsS0FBTSxDQUFBQyxLQUFLLEVBQUFmLGNBQUEsR0FBQUksQ0FBQSxNQUFFSyxHQUFHLENBQUNJLElBQUksQ0FBQ0UsS0FBSyxFQUMzQixLQUFNLENBQUFDLE9BQU8sRUFBQWhCLGNBQUEsR0FBQUksQ0FBQSxNQUFDSyxHQUFHLENBQUNJLElBQUksQ0FBQ0csT0FBTyxFQUM5QixLQUFNLENBQUFDLElBQUksRUFBQWpCLGNBQUEsR0FBQUksQ0FBQSxNQUFDSyxHQUFHLENBQUNJLElBQUksQ0FBQ0ksSUFBSSxFQUV4QixLQUFNLENBQUFDLFVBQVUsRUFBQWxCLGNBQUEsR0FBQUksQ0FBQSxNQUFFLEtBQU0sQ0FBQUYsUUFBUSxDQUFD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