function cov_2meh2612ng(){var path="C:\\Users\\eacsa\\Documents\\DVOPS_Projects\\DVOPS-part1\\utils\\EditProfile.js";var hash="4bf8f057f5f27048545c73e00d2a981d2f23aee9";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\eacsa\\Documents\\DVOPS_Projects\\DVOPS-part1\\utils\\EditProfile.js",statementMap:{"0":{start:{line:1,column:32},end:{line:1,column:53}},"1":{start:{line:3,column:10},end:{line:3,column:32}},"2":{start:{line:8,column:4},end:{line:45,column:1}},"3":{start:{line:10,column:17},end:{line:10,column:30}},"4":{start:{line:11,column:20},end:{line:11,column:37}},"5":{start:{line:12,column:17},end:{line:12,column:31}},"6":{start:{line:13,column:18},end:{line:13,column:34}},"7":{start:{line:14,column:15},end:{line:14,column:28}},"8":{start:{line:16,column:22},end:{line:16,column:56}},"9":{start:{line:17,column:18},end:{line:17,column:23}},"10":{start:{line:18,column:4},end:{line:30,column:5}},"11":{start:{line:18,column:14},end:{line:18,column:15}},"12":{start:{line:19,column:28},end:{line:19,column:41}},"13":{start:{line:20,column:8},end:{line:29,column:9}},"14":{start:{line:22,column:12},end:{line:22,column:36}},"15":{start:{line:23,column:12},end:{line:23,column:44}},"16":{start:{line:24,column:12},end:{line:24,column:38}},"17":{start:{line:25,column:12},end:{line:25,column:42}},"18":{start:{line:26,column:12},end:{line:26,column:36}},"19":{start:{line:27,column:12},end:{line:27,column:26}},"20":{start:{line:31,column:4},end:{line:35,column:5}},"21":{start:{line:32,column:8},end:{line:32,column:23}},"22":{start:{line:33,column:8},end:{line:33,column:74}},"23":{start:{line:36,column:5},end:{line:40,column:5}},"24":{start:{line:37,column:8},end:{line:37,column:82}},"25":{start:{line:38,column:8},end:{line:38,column:80}},"26":{start:{line:44,column:0},end:{line:44,column:70}},"27":{start:{line:47,column:0},end:{line:50,column:2}}},fnMap:{"0":{name:"editProfile",decl:{start:{line:7,column:15},end:{line:7,column:26}},loc:{start:{line:7,column:35},end:{line:46,column:1}},line:7}},branchMap:{"0":{loc:{start:{line:20,column:8},end:{line:29,column:9}},type:"if",locations:[{start:{line:20,column:8},end:{line:29,column:9}},{start:{line:20,column:8},end:{line:29,column:9}}],line:20},"1":{loc:{start:{line:31,column:4},end:{line:35,column:5}},type:"if",locations:[{start:{line:31,column:4},end:{line:35,column:5}},{start:{line:31,column:4},end:{line:35,column:5}}],line:31},"2":{loc:{start:{line:36,column:5},end:{line:40,column:5}},type:"if",locations:[{start:{line:36,column:5},end:{line:40,column:5}},{start:{line:36,column:5},end:{line:40,column:5}}],line:36}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0},f:{"0":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"4bf8f057f5f27048545c73e00d2a981d2f23aee9"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2meh2612ng=function(){return actualCoverage;};}return actualCoverage;}cov_2meh2612ng();const{readJSON,writeJSON}=(cov_2meh2612ng().s[0]++,require('./UserUtil'));const fs=(cov_2meh2612ng().s[1]++,require('fs').promises);async function editProfile(req,res){cov_2meh2612ng().f[0]++;cov_2meh2612ng().s[2]++;try{// const id=req.params.id;
const name=(cov_2meh2612ng().s[3]++,req.body.name);const password=(cov_2meh2612ng().s[4]++,req.body.password);const level=(cov_2meh2612ng().s[5]++,req.body.level);const time_in=(cov_2meh2612ng().s[6]++,req.body.time_in);const date=(cov_2meh2612ng().s[7]++,req.body.date);const allProfile=(cov_2meh2612ng().s[8]++,await readJSON('utils/users.json'));var modified=(cov_2meh2612ng().s[9]++,false);cov_2meh2612ng().s[10]++;for(var i=(cov_2meh2612ng().s[11]++,0);i<allProfile.length;i++){var curcurrProfile=(cov_2meh2612ng().s[12]++,allProfile[i]);cov_2meh2612ng().s[13]++;if(curcurrProfile.name==name){cov_2meh2612ng().b[0][0]++;cov_2meh2612ng().s[14]++;//allProfile[i].id=id;
allProfile[i].name=name;cov_2meh2612ng().s[15]++;allProfile[i].password=password;cov_2meh2612ng().s[16]++;allProfile[i].level=level;cov_2meh2612ng().s[17]++;allProfile[i].time_in=time_in;cov_2meh2612ng().s[18]++;allProfile[i].date=date;cov_2meh2612ng().s[19]++;modified=true;}else{cov_2meh2612ng().b[0][1]++;}}cov_2meh2612ng().s[20]++;if(password.length<6){cov_2meh2612ng().b[1][0]++;cov_2meh2612ng().s[21]++;//if modified ==true
modified==false;cov_2meh2612ng().s[22]++;return res.status(500).json({message:'Password legth too short'});}else{cov_2meh2612ng().b[1][1]++;}cov_2meh2612ng().s[23]++;if(modified==true){cov_2meh2612ng().b[2][0]++;cov_2meh2612ng().s[24]++;//if modified ==true
await fs.writeFile('utils/users.json',JSON.stringify(allProfile),'utf-8');cov_2meh2612ng().s[25]++;return res.status(201).json({message:'Profile modified successfully!'});}else{cov_2meh2612ng().b[2][1]++;}}catch(error){cov_2meh2612ng().s[26]++;return res.status(500).json({message:'Error occured,Unable to edit'});}}cov_2meh2612ng().s[27]++;module.exports={editProfile};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMm1laDI2MTJuZyIsImFjdHVhbENvdmVyYWdlIiwicmVhZEpTT04iLCJ3cml0ZUpTT04iLCJzIiwicmVxdWlyZSIsImZzIiwicHJvbWlzZXMiLCJlZGl0UHJvZmlsZSIsInJlcSIsInJlcyIsImYiLCJuYW1lIiwiYm9keSIsInBhc3N3b3JkIiwibGV2ZWwiLCJ0aW1lX2luIiwiZGF0ZSIsImFsbFByb2ZpbGUiLCJtb2RpZmllZCIsImkiLCJsZW5ndGgiLCJjdXJjdXJyUHJvZmlsZSIsImIiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsIndyaXRlRmlsZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlcnJvciIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJFZGl0UHJvZmlsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IHJlYWRKU09OLCB3cml0ZUpTT04gfSA9IHJlcXVpcmUoJy4vVXNlclV0aWwnKVxyXG5cclxuY29uc3QgZnMgPXJlcXVpcmUoJ2ZzJykucHJvbWlzZXM7XHJcblxyXG4gICBcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGVkaXRQcm9maWxlKHJlcSxyZXMpe1xyXG4gICAgdHJ5e1xyXG4gICAvLyBjb25zdCBpZD1yZXEucGFyYW1zLmlkO1xyXG4gICAgY29uc3QgbmFtZSA9IHJlcS5ib2R5Lm5hbWU7XHJcbiAgICBjb25zdCBwYXNzd29yZCA9cmVxLmJvZHkucGFzc3dvcmQ7XHJcbiAgICBjb25zdCBsZXZlbCA9cmVxLmJvZHkubGV2ZWw7XHJcbiAgICBjb25zdCB0aW1lX2luPXJlcS5ib2R5LnRpbWVfaW47XHJcbiAgICBjb25zdCBkYXRlPXJlcS5ib2R5LmRhdGU7XHJcbiAgICBcclxuICAgIGNvbnN0IGFsbFByb2ZpbGUgPWF3YWl0IHJlYWRKU09OKCd1dGlscy91c2Vycy5qc29uJyk7XHJcbiAgICB2YXIgbW9kaWZpZWQgPWZhbHNlO1xyXG4gICAgZm9yKHZhciBpPTA7aTxhbGxQcm9maWxlLmxlbmd0aDtpKyspe1xyXG4gICAgICAgIHZhciBjdXJjdXJyUHJvZmlsZSA9YWxsUHJvZmlsZVtpXTtcclxuICAgICAgICBpZihjdXJjdXJyUHJvZmlsZS5uYW1lPT1uYW1lKXtcclxuICAgICAgICAgICAgLy9hbGxQcm9maWxlW2ldLmlkPWlkO1xyXG4gICAgICAgICAgICBhbGxQcm9maWxlW2ldLm5hbWU9bmFtZTtcclxuICAgICAgICAgICAgYWxsUHJvZmlsZVtpXS5wYXNzd29yZD1wYXNzd29yZDtcclxuICAgICAgICAgICAgYWxsUHJvZmlsZVtpXS5sZXZlbD1sZXZlbDtcclxuICAgICAgICAgICAgYWxsUHJvZmlsZVtpXS50aW1lX2luPXRpbWVfaW47XHJcbiAgICAgICAgICAgIGFsbFByb2ZpbGVbaV0uZGF0ZT1kYXRlO1xyXG4gICAgICAgICAgICBtb2RpZmllZD10cnVlO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZihwYXNzd29yZC5sZW5ndGg8Nil7Ly9pZiBtb2RpZmllZCA9PXRydWVcclxuICAgICAgICBtb2RpZmllZD09ZmFsc2VcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe21lc3NhZ2U6J1Bhc3N3b3JkIGxlZ3RoIHRvbyBzaG9ydCd9KTtcclxuICAgICAgICBcclxuICAgIH1cclxuICAgICBpZihtb2RpZmllZD09dHJ1ZSl7Ly9pZiBtb2RpZmllZCA9PXRydWVcclxuICAgICAgICBhd2FpdCBmcy53cml0ZUZpbGUoJ3V0aWxzL3VzZXJzLmpzb24nLEpTT04uc3RyaW5naWZ5KGFsbFByb2ZpbGUpLCd1dGYtOCcpO1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7bWVzc2FnZTonUHJvZmlsZSBtb2RpZmllZCBzdWNjZXNzZnVsbHkhJ30pO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG4gXHJcbiAgIFxyXG59Y2F0Y2goZXJyb3Ipe1xyXG5yZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe21lc3NhZ2U6J0Vycm9yIG9jY3VyZWQsVW5hYmxlIHRvIGVkaXQnfSk7XHJcbn1cclxufVxyXG5tb2R1bGUuZXhwb3J0cz17XHJcbiAgICBlZGl0UHJvZmlsZVxyXG4gICAgXHJcbn07Il0sIm1hcHBpbmdzIjoieWtHQWVZO0FBQUFBLGNBQUEsU0FBQUEsQ0FBQSxTQUFBQyxjQUFBLFdBQUFBLGNBQUEsRUFBQUQsY0FBQSxHQWZaLEtBQU0sQ0FBRUUsUUFBUSxDQUFFQyxTQUFVLENBQUMsRUFBQUgsY0FBQSxHQUFBSSxDQUFBLE1BQUdDLE9BQU8sQ0FBQyxZQUFZLENBQUMsRUFFckQsS0FBTSxDQUFBQyxFQUFFLEVBQUFOLGNBQUEsR0FBQUksQ0FBQSxNQUFFQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUNFLFFBQVEsRUFJaEMsY0FBZSxDQUFBQyxXQUFXQSxDQUFDQyxHQUFHLENBQUNDLEdBQUcsQ0FBQyxDQUFBVixjQUFBLEdBQUFXLENBQUEsTUFBQVgsY0FBQSxHQUFBSSxDQUFBLE1BQy9CLEdBQUcsQ0FDSjtBQUNDLEtBQU0sQ0FBQVEsSUFBSSxFQUFBWixjQUFBLEdBQUFJLENBQUEsTUFBR0ssR0FBRyxDQUFDSSxJQUFJLENBQUNELElBQUksRUFDMUIsS0FBTSxDQUFBRSxRQUFRLEVBQUFkLGNBQUEsR0FBQUksQ0FBQSxNQUFFSyxHQUFHLENBQUNJLElBQUksQ0FBQ0MsUUFBUSxFQUNqQyxLQUFNLENBQUFDLEtBQUssRUFBQWYsY0FBQSxHQUFBSSxDQUFBLE1BQUVLLEdBQUcsQ0FBQ0ksSUFBSSxDQUFDRSxLQUFLLEVBQzNCLEtBQU0sQ0FBQUMsT0FBTyxFQUFBaEIsY0FBQSxHQUFBSSxDQUFBLE1BQUNLLEdBQUcsQ0FBQ0ksSUFBSSxDQUFDRyxPQUFPLEVBQzlCLEtBQU0sQ0FBQUMsSUFBSSxFQUFBakIsY0FBQSxHQUFBSSxDQUFBLE1BQUNLLEdBQUcsQ0FBQ0ksSUFBSSxDQUFDSSxJQUFJLEVBRXhCLEtBQU0sQ0FBQUMsVUFBVSxFQUFBbEIsY0FBQSxHQUFBSSxDQUFBLE1BQUUsS0FBTSxDQUFBRixRQUFRLENBQUMsa0JBQWtCLENB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